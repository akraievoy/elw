#* @vtlvariable name="elw_messages" type="elw.miniweb.Message[]" *#
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta content="text/html; charset=UTF-8">
	<title>$verBean.name - Report</title>
	<link href="../css/elw.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<div id="header">
	<div id="nav">
		<a href="courses">My Courses</a> &gt;
		<a href="course?id=${course.id}">${course.name}</a> &gt;
		<span style="font-weight: bold">$verBean.name - Report</span></div>
	&nbsp;
	<div id="cred">[&nbsp;$elw_group.name&nbsp;$elw_student.name&nbsp;]&nbsp;[&nbsp;<a href="logout">X</a>&nbsp;]</div>
</div>
<div id=messages>#foreach($m in $elw_messages)
	<div class="$m.type">$m.message</div>
#end
</div>
<div id=main>
	<div class="formArea" style="height: 7em;">
		<div style="padding: 0.2em; font-weight: bold; background-color: #ffee99; text-align:center;">
			Only *.rtf uploads up to $uploadLimit, please.
		</div>
		<form method="POST" enctype="multipart/form-data" action="uploadReport?path=$upPath">
			<div class="formLabel">Report file:</div>
			<div class="formField"><input type="file" name="report"/></div>
			<div class="formButtons"><input type="submit" value="Upload"/></div>
		</form>
	</div>
	<div style="margin: 1em auto; width: 40em;">
		<div style="float: left;">
			<h3>Code submissions</h3>
			<table cellspacing="0" align="center"><tbody>
				<tr>
					<th>Date</th>
					<th>State</th>
					<th>Link</th>
				</tr>
#foreach($c in $codes.values())
				<tr>
					<td style="padding: 0 0.25em;"><span title="$c.niceUploadStamp">$c.briefUploadStamp</span></td>
					<td style="padding: 0 0.25em;">
						#if($c.validatorStamp > 0)
							#set($passColor = "#if($c.testsPassed>0)#00FF00#else#999999#end")
							#set($failColor = "#if($c.testsFailed>0)#FF0000#else#999999#end")
							<span style="color: $passColor;">$c.testsPassed&nbsp;Pass</span> /
							<span style="color: $failColor;">$c.testsFailed&nbsp;Fail</span>
						#else
							Tests Pending
						#end
					</td>
					<td style="padding: 0 0.25em;">[&nbsp;<a href="codeDl/$c.fileName?path=$upPath&stamp=$c.uploadStamp" target="_blank">Download</a>&nbsp;]</td>
				</tr>
#end
			</tbody></table>
		</div>
		<div style="float: right;">
			<h3>Report Uploads</h3>
			<table cellspacing="0" align="center"><tbody>
				<tr>
					<th>Date</th>
					<th>State</th>
					<th>Link</th>
				</tr>
#foreach($rep in $reports.values())
				<tr>
					<td style="padding: 0 0.25em;"><span title="$rep.niceUploadStamp">$rep.briefUploadStamp</span></td>
					<td style="padding: 0 0.25em;">&nbsp;</td>
					<td style="padding: 0 0.25em;">[&nbsp;<a href="reportDl/$rep.fileName?path=$upPath&stamp=$rep.uploadStamp" target="_blank">Download</a>&nbsp;]</td>
				</tr>
#end
			</tbody></table>
		</div>
	</div>
</div>
</body>
</html>
