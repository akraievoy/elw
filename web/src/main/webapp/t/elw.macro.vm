#macro(elw_messages $elw_messages)
<div id=messages>#foreach($m in $elw_messages)
	<div class="$m.type">$m.message</div>
#end</div>
#end

#macro (elw_cred_stud $elw_ctx)
#if($elw_ctx.group)#if($elw_ctx.student)#set($auth="true") #end #end
<div id="cred">
	#if($auth)
		[&nbsp;$elw_ctx.group.name&nbsp;$elw_ctx.student.name&nbsp;]&nbsp;
		<form method="GET" style="display:inline; margin: 0 0.25em; padding: 0;" action="logout">
			<input type="Submit" value="Log Out" style="margin: 0;"/>
		</form>
	#else
		[&nbsp;Anonymous&nbsp;]
	#end
</div>
#end

#macro (elw_cred_adm $auth)
<div id="cred">
	#if($auth)
		[&nbsp;Admin&nbsp;]&nbsp;
		<form method="GET" style="display:inline; margin: 0 0.25em; padding: 0;" action="logout">
			<input type="Submit" value="Log Out" style="margin: 0;"/>
		</form>
	#{else}
		[&nbsp;Anonymous&nbsp;]
	#end
</div>
#end

#macro (elw_code_state $meta $dueClass)
	#set($overdue = $dueClass.passed && ($meta.totalUploads == 0 || $meta.passRatio == 0))
	<div style="width: 100%; text-align: center; #if($overdue)background-color: #EE9999;#end">
	#if($meta.totalUploads > 0)
			<span title="$meta.niceUploadStamp">
				#if($meta.validatorStamp > 0)
					#set($passColor = "#if($meta.testsPassed>0)#00FF00#else#999999#end")
					#set($failColor = "#if($meta.testsFailed>0)#FF0000#else#999999#end")
						<span style="color: $passColor;">${meta.testsPassed}P</span>/<span
									style="color: $failColor;">${meta.testsFailed}F</span>
				#else
					Pending
				#end
			</span>
		#else
			None
		#end
	</div>
#end

#macro (elw_report_state $meta $dueClass)
	#set($overdue = $dueClass.passed && ($meta.totalUploads == 0 || $meta.scoreStamp == -1))
	<div style="width: 100%; text-align: center; #if($overdue)background-color: #EE9999;#end">
	#if($meta.totalUploads > 0)
			<span title="$meta.niceUploadStamp">
				#if($meta.scoreStamp < 0)
					<span style="color: #FF0000">Declined</span>
				#else
					#if($meta.scoreStamp > 0)
						<span style="color: #00FF00">Approved</span>
					#else
						<span style="color: #999999">Pending</span>
					#end
				#end
			</span>
		#else
			None
		#end
	</div>
#end